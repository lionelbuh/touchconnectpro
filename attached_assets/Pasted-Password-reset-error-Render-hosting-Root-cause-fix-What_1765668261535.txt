Password reset error â€“ Render hosting (Root cause + fix)
âŒ What is happening

Supabase sends the reset email with this URL format:

https://www.touchconnectpro.com/reset-password
#access_token=XXXX&type=recovery


Key points:

â€¢ #access_token=... is a URL fragment
â€¢ URL fragments are never sent to the server
â€¢ Render receives only:

GET /reset-password


On Render, /reset-password does not exist as a real route or static file, so Render returns:

Content unavailable. Resource was not cached


This happens before React / Next / SPA code loads, so the app never gets the token.

ğŸ‘‰ This is not a Supabase issue and not an email/token issue.

âœ… Required fixes (ALL are mandatory)
1ï¸âƒ£ Create a real frontend route /reset-password

Your app must have a page at /reset-password.

Examples:

Next.js (App Router)
/app/reset-password/page.tsx

Next.js (Pages Router)
/pages/reset-password.tsx

React Router
<Route path="/reset-password" element={<ResetPassword />} />


If this page does not exist â†’ Render will always 404.

2ï¸âƒ£ Render rewrite rule (critical)

Render does NOT automatically handle SPA routing.

You must add a rewrite so Render always serves index.html.

Render â†’ Static Site â†’ Redirects/Rewrites

Add this rule:

Source: /*
Destination: /index.html
Action: Rewrite


This allows /reset-password to load the app instead of 404.

Without this rule, the error cannot be fixed.

3ï¸âƒ£ Read the token from the URL hash (not query params)

Supabase puts the token in the hash:

const hash = window.location.hash;
// "#access_token=XXX&type=recovery"

const params = new URLSearchParams(hash.replace('#', ''));
const accessToken = params.get('access_token');

4ï¸âƒ£ Initialize Supabase session from the token
await supabase.auth.setSession({
  access_token: accessToken,
  refresh_token: accessToken,
});


(or getSessionFromUrl() if using Supabase helpers)

5ï¸âƒ£ Show password reset form ONLY after session is set

Then allow:

await supabase.auth.updateUser({
  password: newPassword,
});

ğŸ” Why the error message is misleading

â€œContent unavailable. Resource was not cachedâ€

This is Renderâ€™s static hosting error, not a Supabase error.

It means:
â€¢ Route does not exist
â€¢ No SPA rewrite
â€¢ App never loads

âœ… Final checklist for Render

âœ” /reset-password frontend page exists
âœ” Render rewrite rule /* â†’ /index.html
âœ” Token read from window.location.hash
âœ” Supabase session initialized
âœ” Password update works

One-line summary

The reset link is correct, but Render returns a cached 404 for /reset-password because SPA rewrites are missing, so the app never receives the Supabase token.